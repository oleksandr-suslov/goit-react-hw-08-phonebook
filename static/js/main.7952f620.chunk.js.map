{"version":3,"sources":["components/App/App.module.css","components/Section/Section.jsx","redux/phonebook/actions.js","components/AuthNav/AuthNav.jsx","components/Section/Section.module.css","redux/phonebook/reducer.js","redux/auth/authReducer.js","redux/store.js","components/UserMenu/UserMenu.jsx","components/Nav/Nav.jsx","components/App/App.jsx","index.js","redux/phonebook/operations.js","services/api-request.js","redux/auth/authSelector.js","components/Nav/Nav.module.css","components/UserMenu/UserMenu.module.css","redux/auth/authOperations.js","components/AuthNav/AuthNav.module.css"],"names":["module","exports","Section","children","className","styles","mainSection","filterContact","createAction","AuthNav","to","link","getContacts","createReducer","fetchContacts","fulfilled","state","action","payload","addContacts","removeContact","filter","el","id","error","rejected","_","pending","combineReducers","contacts","registerNewUser","register","user","logIn","logOut","getCurrent","token","isLoggedIn","isUser","authPersistConfig","key","storage","whitelist","persistedReducer","persistReducer","authReducer","store","configureStore","reducer","auth","contactsReduser","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistor","persistStore","UserMenu","dispatch","useDispatch","email","useSelector","getUserEmail","userMenu","text","mail","Button","variant","type","onClick","Nav","getIsLoggedIn","wrapper","Box","sx","flexGrow","AppBar","position","Toolbar","nav","exact","activeClassName","HomePage","lazy","AuthPage","LoginPage","ContactsPage","App","getCurrentUser","useEffect","sectionApp","autoClose","fallback","color","height","width","path","restricted","footer","Copyright","ReactDOM","render","StrictMode","loading","document","getElementById","createAsyncThunk","a","rejectWithValue","console","message","newObject","addContactRequest","deleteContactRequest","axios","defaults","baseURL","headers","common","Authorization","get","data","newContact","post","delete","userData","loginUser","logOutUser","persistedToken","newUser","thunkAPI","getState"],"mappings":"mIACAA,EAAOC,QAAU,CAAC,IAAM,iBAAiB,OAAS,sB,iCCDlD,+DAEe,SAASC,EAAT,GAA2C,IAAxBC,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,UAC1C,OAAO,yBAASA,UAAWC,IAAOC,YAAc,IAAMF,EAA/C,SAA4DD,M,iCCHrE,8CAIMI,EAAgBC,YAAa,mB,iCCJnC,sEAGe,SAASC,IACtB,OACE,gCACE,cAAC,IAAD,CAASC,GAAG,SAASN,UAAWC,IAAOM,KAAvC,mBAGA,cAAC,IAAD,CAASD,GAAG,YAAYN,UAAWC,IAAOM,KAA1C,yB,oBCRNX,EAAOC,QAAU,CAAC,YAAc,+B,0LCI1BW,EAAcC,YAAc,IAAD,mBAC9BC,IAAcC,WAAY,SAACC,EAAOC,GAAR,OAAmBA,EAAOC,WADtB,cAG9BC,IAAYJ,WAAY,SAACC,EAAOC,GAAR,4BAAuBD,GAAvB,CAA8BC,EAAOC,aAH/B,cAI9BE,IAAcL,WAAY,SAACC,EAAOC,GAAR,OACzBD,EAAMK,QAAO,SAACC,GAAD,OAAQA,EAAGC,KAAON,EAAOC,cALT,IAQ3BM,EAAQX,YAAc,MAAD,mBACxBC,IAAcW,UAAW,SAACC,EAAGT,GAAJ,OAAeA,EAAOC,WADvB,cAExBJ,IAAca,SAAU,kBAAM,QAFN,cAGxBR,IAAYM,UAAW,SAACC,EAAGT,GAAJ,OAAeA,EAAOC,WAHrB,cAIxBC,IAAYQ,SAAU,kBAAM,QAJJ,cAKxBP,IAAcK,UAAW,SAACC,EAAGT,GAAJ,OAAeA,EAAOC,WALvB,cAMxBE,IAAcO,SAAU,kBAAM,QANN,IASrBN,EAASR,YAAc,GAAD,eACzBN,KAAgB,SAACS,EAAOC,GAAR,OAAmBA,EAAOC,YAG9BU,cAAgB,CAC7BC,SAAUjB,EACVS,SACAG,U,iCCzBIM,EAAkBjB,YAAc,MAAD,iBAAC,EACnCkB,IAAShB,WAAY,SAACW,EAAD,YAAMR,QAAsBc,QADf,YAAC,EAEnCC,IAAMlB,WAAY,SAACW,EAAD,YAAMR,QAAsBc,QAFZ,YAAC,EAGnCE,IAAOnB,WAAY,kBAAM,QAHS,YAAC,EAInCoB,IAAWpB,WAAY,SAACW,EAAD,YAAMR,QAAsBc,QAJjB,YAAC,EAKnCG,IAAWpB,WAAY,SAACW,EAAD,YAAMR,WALK,IAQ/BkB,EAAQvB,YAAc,MAAD,iBAAC,EACzBkB,IAAShB,WAAY,SAACW,EAAD,YAAMR,QAAsBkB,SADzB,YAAC,EAEzBH,IAAMlB,WAAY,SAACW,EAAD,YAAMR,QAAsBkB,SAFtB,YAAC,EAGzBF,IAAOnB,WAAY,kBAAM,QAHD,IAMrBS,EAAQX,YAAc,MAAD,mBACxBkB,IAASN,UAAW,SAACC,EAAD,YAAMR,WADF,cAExBa,IAASJ,SAAU,kBAAM,QAFD,cAGxBM,IAAMR,UAAW,SAACC,EAAD,YAAMR,WAHC,cAIxBe,IAAMN,SAAU,kBAAM,QAJE,cAKxBO,IAAOT,UAAW,SAACC,EAAGT,GAAJ,OAAeA,EAAOC,WALhB,cAMxBgB,IAAOP,SAAU,kBAAM,QANC,cAOxBQ,IAAWV,UAAW,SAACC,EAAGT,GAAJ,OAAeA,EAAOC,WAPpB,cAQxBiB,IAAWR,SAAU,kBAAM,QARH,IAWrBU,EAAaxB,aAAc,GAAD,mBAC7BkB,IAAShB,WAAY,kBAAM,KADE,cAE7BkB,IAAMlB,WAAY,kBAAM,KAFK,cAG7BmB,IAAOnB,WAAY,kBAAM,KAHI,cAI7BoB,IAAWpB,WAAY,kBAAM,KAJA,IAO1BuB,EAASzB,aAAc,GAAD,mBACzBsB,IAAWpB,WAAY,SAACC,EAAOU,GAAR,OAAc,KADZ,cAEzBS,IAAWV,UAAW,SAACT,EAAOU,GAAR,OAAc,KAFX,cAGzBS,IAAWR,SAAU,SAACX,EAAOU,GAAR,OAAc,KAHV,IAMbE,cAAgB,CAC7BI,KAAMF,EACNM,QACAZ,QACAa,aACAC,WChCIC,EAAoB,CACxBC,IAAK,OACLC,YACAC,UAAW,CAAC,UAGRC,EAAmBC,YAAeL,EAAmBM,GAErDC,EAAQC,YAAe,CAC3BC,QAAS,CACPC,KAAMN,EACNd,SAAUqB,GAGZC,WAAY,SAACC,GAAD,OACVA,EAAqB,CACnBC,kBAAmB,CACjBC,eAAgB,CAACC,IAAOC,IAAWC,IAAOC,IAASC,IAAOC,WAK5DC,EAAYC,YAAahB,G,gHCXhBiB,GAnBE,WACf,IAAMC,EAAWC,cACXC,EAAQC,YAAYC,KAE1B,OACE,sBAAKhE,UAAWC,IAAOgE,SAAvB,UACE,mBAAGjE,UAAWC,IAAOiE,KAArB,sBACA,mBAAGlE,UAAWC,IAAOkE,KAArB,SAA4BL,IAC5B,cAACM,EAAA,EAAD,CACQC,QAAQ,YACdC,KAAK,SACLC,QAAS,kBAAMX,EAAS9B,gBAH1B,sB,8BCFS,SAAS0C,KACtB,IAAMvC,EAAa8B,YAAYU,KAC/B,OACE,qBAAKzE,UAAWC,KAAOyE,QAAvB,SACE,cAACC,EAAA,EAAD,CAAKC,GAAI,CAAEC,SAAU,GAArB,SACE,cAACC,EAAA,EAAD,CAAQC,SAAS,QAAjB,SACE,eAACC,EAAA,EAAD,WACE,sBAAKhF,UAAWC,KAAOgF,IAAvB,UACE,cAAC,IAAD,CACE3E,GAAG,IACH4E,OAAK,EACLlF,UAAWC,KAAOM,KAClB4E,gBAAgB,aAJlB,kBASClD,GACC,cAAC,IAAD,CACE3B,GAAG,YACH4E,OAAK,EACLlF,UAAWC,KAAOM,KAClB4E,gBAAgB,aAJlB,yBAUHlD,EAAa,cAAC,GAAD,IAAe,cAAC5B,GAAA,EAAD,a,mCCxBnC+E,GAAWC,gBAAK,kBACpB,iCAEIC,GAAWD,gBAAK,kBACpB,iCAEIE,GAAYF,gBAAK,kBACrB,iCAEIG,GAAeH,gBAAK,kBACxB,iCAGa,SAASI,KACtB,IAAMxD,EAAa8B,YAAYU,KACzBb,EAAWC,cAEX3B,EAAS6B,YAAY2B,KAM3B,OAJAC,qBAAU,WACR/B,EAAS7B,iBACR,CAAC6B,IAGF,eAAC9D,GAAA,EAAD,CAASE,UAAWC,KAAO2F,WAA3B,UACE,cAAC,IAAD,CAAgBC,UAAW,MAC3B,cAACrB,GAAD,KACEtC,GACA,eAAC,WAAD,CACE4D,SACE,cAAC,IAAD,CAAQxB,KAAK,UAAUyB,MAAM,UAAUC,OAAQ,GAAIC,MAAO,KAF9D,UAKE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,IAAIhB,OAAK,EAArB,SACE,cAACE,GAAD,MAGF,cAAC,IAAD,CAAOc,KAAK,SAASC,YAAU,EAA/B,SACE,cAACZ,GAAD,MAGF,cAAC,IAAD,CAAOW,KAAK,YAAYC,YAAU,EAAlC,SACE,cAACb,GAAD,MAGF,cAAC,IAAD,CAAOY,KAAK,YAAZ,SACE,cAACV,GAAD,SAGHvD,EAAa,cAAC,IAAD,CAAU3B,GAAG,cAAiB,cAAC,IAAD,CAAUA,GAAG,SAG7D,sBAAKN,UAAWC,KAAOmG,OAAvB,UACE,cAACC,EAAA,EAAD,IADF,iC,cC1DNC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAU9D,MAAOA,EAAjB,SACE,cAAC,cAAD,CAAa+D,QAAS,KAAMhD,UAAWA,EAAvC,SACE,cAAC,IAAD,UACE,cAACgC,GAAD,YAKRiB,SAASC,eAAe,U,kLCfpBjG,EAAgBkG,YACpB,wBADoC,uCAEpC,WAAgBtF,EAAhB,oBAAAuF,EAAA,6DAAqBC,EAArB,EAAqBA,gBAArB,kBAE2BtG,cAF3B,cAEUiB,EAFV,yBAGWA,GAHX,uCAKIsF,QAAQ3F,MAAM,KAAM4F,SALxB,kBAMWF,EAAgB,KAAME,UANjC,yDAFoC,yDAahCjG,EAAc6F,YAClB,cADkC,uCAElC,WAAgBK,EAAhB,oBAAAJ,EAAA,6DAA6BC,EAA7B,EAA6BA,gBAA7B,kBAE2BI,YAAkBD,GAF7C,cAEUxF,EAFV,yBAGWA,GAHX,uCAKIsF,QAAQ3F,MAAM,KAAM4F,SALxB,kBAMWF,EAAgB,KAAME,UANjC,yDAFkC,yDAa9BhG,EAAgB4F,YACpB,iBADoC,uCAEpC,WAAgBzF,EAAhB,kBAAA0F,EAAA,6DAAsBC,EAAtB,EAAsBA,gBAAtB,kBAEiBK,YAAqBhG,GAFtC,+EAII4F,QAAQ3F,MAAM,KAAM4F,SAJxB,kBAMWF,EAAgB,KAAME,UANjC,yDAFoC,0D,2TC/BtCI,IAAMC,SAASC,QAAU,wCAEzB,IAAMtF,EAAQ,SACRA,GACFoF,IAAMC,SAASE,QAAQC,OAAOC,cAA9B,iBAAwDzF,IAFtDA,EAAQ,SAINA,GACJoF,IAAMC,SAASE,QAAQC,OAAOC,cAAgB,IAI3C,SAAejH,IAAtB,+B,4CAAO,8BAAAqG,EAAA,+EAEoBO,IAAMM,IAAI,aAF9B,uBAEKC,EAFL,EAEKA,KAFL,kBAGIA,GAHJ,qG,sBASA,SAAeT,EAAtB,kC,4CAAO,WAAiCU,GAAjC,iBAAAf,EAAA,+EAEoBO,IAAMS,KAAK,YAAaD,GAF5C,uBAEKD,EAFL,EAEKA,KAFL,kBAGIA,GAHJ,qG,sBASA,SAAeR,EAAtB,kC,4CAAO,WAAoChG,GAApC,SAAA0F,EAAA,+EAEGO,IAAMU,OAAN,oBAA0B3G,IAF7B,gCAGIA,GAHJ,oG,sBASA,SAAeO,EAAtB,kC,4CAAO,WAA+BqG,GAA/B,iBAAAlB,EAAA,+EAEoBO,IAAMS,KAAK,gBAAiBE,GAFhD,uBAEKJ,EAFL,EAEKA,KACR3F,EAAU2F,EAAK3F,OAHZ,kBAII2F,GAJJ,qG,sBASA,SAAeK,EAAtB,kC,4CAAO,WAAyBD,GAAzB,iBAAAlB,EAAA,+EAEoBO,IAAMS,KAAK,eAAgBE,GAF/C,uBAEKJ,EAFL,EAEKA,KACR3F,EAAU2F,EAAK3F,OAHZ,kBAII2F,GAJJ,qG,sBASA,SAAeM,IAAtB,+B,4CAAO,8BAAApB,EAAA,+EAEoBO,IAAMS,KAAK,iBAF/B,uBAEKF,EAFL,EAEKA,KACR3F,IAHG,kBAII2F,GAJJ,qG,sBAUA,IAAMjC,EAAc,uCAAG,WAAOwC,GAAP,iBAAArB,EAAA,6DAC5B7E,EAAUkG,GADkB,kBAGHd,IAAMM,IAAI,kBAHP,uBAGlBC,EAHkB,EAGlBA,KAHkB,kBAInBA,GAJmB,oGAAH,uD,gCCpE3B,0GAAMlD,EAAgB,SAAC7D,GAAD,OAAWA,EAAMiC,KAAKZ,YAEtC+B,EAAe,SAACpD,GAAD,OAAWA,EAAMiC,KAAKjB,KAAKkC,OAM1C4B,EAAiB,SAAC9E,GAAD,OAAWA,EAAMiC,KAAKX,S,mBCP7CtC,EAAOC,QAAU,CAAC,IAAM,iBAAiB,KAAO,oB,mBCAhDD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,KAAO,uBAAuB,KAAO,yB,mNCOvF8B,EAAWiF,YACf,gBAD+B,uCAE/B,WAAgBuB,EAAhB,oBAAAtB,EAAA,6DAA2BC,EAA3B,EAA2BA,gBAA3B,kBAEuBpF,YAAgByG,GAFvC,cAEUvG,EAFV,yBAGWA,GAHX,uCAKImF,QAAQ3F,MAAM,KAAM4F,SALxB,kBAMWF,EAAgB,KAAME,UANjC,yDAF+B,yDAa3BnF,EAAQ+E,YACZ,aAD4B,uCAE5B,WAAgBe,EAAhB,oBAAAd,EAAA,6DAAwBC,EAAxB,EAAwBA,gBAAxB,kBAEuBkB,YAAUL,GAFjC,cAEU/F,EAFV,yBAGWA,GAHX,uCAKImF,QAAQ3F,MAAM,KAAM4F,SALxB,kBAMWF,EAAgB,KAAME,UANjC,yDAF4B,yDAYxBlF,EAAS8E,YACb,cAD6B,uCAE7B,WAAgBtF,EAAhB,kBAAAuF,EAAA,6DAAqBC,EAArB,EAAqBA,gBAArB,kBAEiBmB,cAFjB,+EAIIlB,QAAQ3F,MAAM,KAAM4F,SAJxB,kBAKWF,EAAgB,KAAME,UALjC,yDAF6B,yDAYzBjF,EAAa6E,YACjB,sBADiC,uCAEjC,WAAOtF,EAAG8G,GAAV,iBAAAvB,EAAA,kEAEUjG,EAAQwH,EAASC,WACjBrG,EAAQpB,EAAMiC,KAAKb,MAH7B,yCAMaoG,EAAStB,mBANtB,uBAQiBpB,YAAe1D,GARhC,mGAUW,KAAMgF,SAVjB,0DAFiC,0D,mBC5CnCpH,EAAOC,QAAU,CAAC,KAAO,yB","file":"static/js/main.7952f620.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2aeWO\",\"footer\":\"App_footer__1VNiO\"};","import styles from \"./Section.module.css\";\r\n\r\nexport default function Section({ children, className }) {\r\n  return <section className={styles.mainSection + ' ' + className} >{children}</section>;\r\n}\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\n// const addNewContact = createAction(\"contact/Add\");\r\n// const removeContact = createAction(\"contact/Delete\");\r\nconst filterContact = createAction(\"contact/Filter\");\r\nexport { filterContact };\r\n","import { NavLink } from \"react-router-dom\";\r\nimport styles from \"./AuthNav.module.css\";\r\n\r\nexport default function AuthNav() {\r\n  return (\r\n    <div>\r\n      <NavLink to=\"/login\" className={styles.link}>\r\n        LogIn\r\n      </NavLink>\r\n      <NavLink to=\"/register\" className={styles.link}>\r\n        SignUp\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainSection\":\"Section_mainSection__2s6RO\"};","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport { combineReducers } from \"redux\";\r\nimport { filterContact } from \"./actions\";\r\nimport { fetchContacts, addContacts, removeContact } from \"./operations\";\r\n\r\nconst getContacts = createReducer([], {\r\n  [fetchContacts.fulfilled]: (state, action) => action.payload,\r\n\r\n  [addContacts.fulfilled]: (state, action) => [...state, action.payload],\r\n  [removeContact.fulfilled]: (state, action) =>\r\n    state.filter((el) => el.id !== action.payload),\r\n});\r\n\r\nconst error = createReducer(null, {\r\n  [fetchContacts.rejected]: (_, action) => action.payload,\r\n  [fetchContacts.pending]: () => null,\r\n  [addContacts.rejected]: (_, action) => action.payload,\r\n  [addContacts.pending]: () => null,\r\n  [removeContact.rejected]: (_, action) => action.payload,\r\n  [removeContact.pending]: () => null,\r\n});\r\n\r\nconst filter = createReducer(\"\", {\r\n  [filterContact]: (state, action) => action.payload,\r\n});\r\n\r\nexport default combineReducers({\r\n  contacts: getContacts,\r\n  filter,\r\n  error,\r\n});\r\n","import { createReducer } from \"@reduxjs/toolkit\";\nimport { combineReducers } from \"redux\";\nimport { register, logIn, logOut, getCurrent } from \"./authOperations\";\n\nconst registerNewUser = createReducer(null, {\n  [register.fulfilled]: (_, { payload }) => payload.user,\n  [logIn.fulfilled]: (_, { payload }) => payload.user,\n  [logOut.fulfilled]: () => null,\n  [getCurrent.fulfilled]: (_, { payload }) => payload.user,\n  [getCurrent.fulfilled]: (_, { payload }) => payload,\n});\n\nconst token = createReducer(null, {\n  [register.fulfilled]: (_, { payload }) => payload.token,\n  [logIn.fulfilled]: (_, { payload }) => payload.token,\n  [logOut.fulfilled]: () => null,\n});\n\nconst error = createReducer(null, {\n  [register.rejected]: (_, { payload }) => payload,\n  [register.pending]: () => null,\n  [logIn.rejected]: (_, { payload }) => payload,\n  [logIn.pending]: () => null,\n  [logOut.rejected]: (_, action) => action.payload,\n  [logOut.pending]: () => null,\n  [getCurrent.rejected]: (_, action) => action.payload,\n  [getCurrent.pending]: () => null,\n});\n\nconst isLoggedIn = createReducer(false, {\n  [register.fulfilled]: () => true,\n  [logIn.fulfilled]: () => true,\n  [logOut.fulfilled]: () => false,\n  [getCurrent.fulfilled]: () => true,\n});\n\nconst isUser = createReducer(false, {\n  [getCurrent.fulfilled]: (state, _) => false,\n  [getCurrent.rejected]: (state, _) => false,\n  [getCurrent.pending]: (state, _) => true,\n});\n\nexport default combineReducers({\n  user: registerNewUser,\n  token,\n  error,\n  isLoggedIn,\n  isUser,\n});\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport contactsReduser from \"./phonebook/reducer\";\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\";\nimport authReducer from \"./auth/authReducer\";\n\nconst authPersistConfig = {\n  key: \"auth\",\n  storage,\n  whitelist: [\"token\"],\n};\n\nconst persistedReducer = persistReducer(authPersistConfig, authReducer);\n\nconst store = configureStore({\n  reducer: {\n    auth: persistedReducer,\n    contacts: contactsReduser,\n  },\n\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      serializableCheck: {\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n      },\n    }),\n});\n\nconst persistor = persistStore(store);\n\nexport { store, persistor };\n","import { useSelector, useDispatch } from \"react-redux\";\r\nimport { logOut } from \"../../redux/auth/authOperations\";\r\nimport { getUserEmail } from \"../../redux/auth/authSelector\";\r\nimport styles from \"./UserMenu.module.css\";\r\n\r\nimport { Button } from \"@material-ui/core\";\r\n\r\nconst UserMenu = () => {\r\n  const dispatch = useDispatch();\r\n  const email = useSelector(getUserEmail);\r\n\r\n  return (\r\n    <div className={styles.userMenu}>\r\n      <p className={styles.text}>Welcome,</p>\r\n      <p className={styles.mail}>{email}</p>\r\n      <Button\r\n              variant=\"contained\"\r\n        type=\"button\"\r\n        onClick={() => dispatch(logOut())}\r\n      >\r\n        Exit\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserMenu;\r\n","import { useSelector } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Box from '@material-ui/core/Box';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\n\r\nimport UserMenu from '../UserMenu/UserMenu';\r\nimport AuthNav from '../AuthNav/AuthNav';\r\n\r\nimport { getIsLoggedIn } from '../../redux/auth/authSelector';\r\nimport styles from './Nav.module.css';\r\n\r\nexport default function Nav () {\r\n  const isLoggedIn = useSelector(getIsLoggedIn);\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <Box sx={{ flexGrow: 1 }}>\r\n        <AppBar position=\"fixed\">\r\n          <Toolbar>\r\n            <nav className={styles.nav}>\r\n              <NavLink\r\n                to=\"/\"\r\n                exact\r\n                className={styles.link}\r\n                activeClassName=\"activeLink\"\r\n              >\r\n                Home\r\n              </NavLink>\r\n\r\n              {isLoggedIn && (\r\n                <NavLink\r\n                  to=\"/contacts\"\r\n                  exact\r\n                  className={styles.link}\r\n                  activeClassName=\"activeLink\"\r\n                >\r\n                  Contacts\r\n                </NavLink>\r\n               )} \r\n            </nav>\r\n            {isLoggedIn ? <UserMenu /> : <AuthNav />}\r\n\r\n          </Toolbar>\r\n        </AppBar>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\n","import { Switch, Redirect, Route } from \"react-router-dom\";\r\nimport { useEffect, Suspense, lazy } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Copyright } from \"@material-ui/icons\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport Nav from \"../Nav/Nav\";\r\nimport Section from \"../Section/Section\";\r\nimport {\r\n  getIsLoggedIn,\r\n  getCurrentUser,\r\n  getAuthError,\r\n} from \"../../redux/auth/authSelector\";\r\nimport { getCurrent } from \"../../redux/auth/authOperations\";\r\nimport styles from \"./App.module.css\";\r\n\r\nconst HomePage = lazy(() =>\r\n  import(\"../page/HomePage\" /* webpackChunkName: \"home\" */)\r\n);\r\nconst AuthPage = lazy(() =>\r\n  import(\"../page/AuthPage\" /* webpackChunkName: \"auth\" */)\r\n);\r\nconst LoginPage = lazy(() =>\r\n  import(\"../page/LoginPage\" /* webpackChunkName: \"login\" */)\r\n);\r\nconst ContactsPage = lazy(() =>\r\n  import(\"../page/ContactsPage\" /* webpackChunkName: \"contacts\" */)\r\n);\r\n\r\nexport default function App() {\r\n  const isLoggedIn = useSelector(getIsLoggedIn);\r\n  const dispatch = useDispatch();\r\n  // const isError = useSelector(getAuthError);\r\n  const isUser = useSelector(getCurrentUser);\r\n\r\n  useEffect(() => {\r\n    dispatch(getCurrent());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <Section className={styles.sectionApp}>\r\n      <ToastContainer autoClose={2000} />\r\n      <Nav />\r\n      {!isUser && (\r\n        <Suspense\r\n          fallback={\r\n            <Loader type=\"Circles\" color=\"#00BFFF\" height={80} width={80} />\r\n          }\r\n        >\r\n          <Switch>\r\n            <Route path=\"/\" exact>\r\n              <HomePage />\r\n            </Route>\r\n\r\n            <Route path=\"/login\" restricted>\r\n              <LoginPage />\r\n            </Route>\r\n\r\n            <Route path=\"/register\" restricted>\r\n              <AuthPage />\r\n            </Route>\r\n\r\n            <Route path=\"/contacts\">\r\n              <ContactsPage />\r\n            </Route>\r\n          </Switch>\r\n          {isLoggedIn ? <Redirect to=\"/contacts\" /> : <Redirect to=\"/\" />}\r\n        </Suspense>\r\n      )}\r\n      <div className={styles.footer}>\r\n        <Copyright />\r\n        Created by Suslov | 2021\r\n      </div>\r\n    </Section>\r\n  );\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { PersistGate } from \"reduxjs-toolkit-persist/integration/react\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport { Provider } from \"react-redux\";\nimport { store, persistor } from \"./redux/store\";\n\nimport App from \"./components/App/App\";\nimport \"./index.css\";\nimport \"modern-normalize/modern-normalize.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport {\r\n  getContacts,\r\n  addContactRequest,\r\n  deleteContactRequest,\r\n} from \"../../services/api-request\";\r\n\r\nconst fetchContacts = createAsyncThunk(\r\n  \"contact/fetchContacts\",\r\n  async function (_, { rejectWithValue }) {\r\n    try {\r\n      const contacts = await getContacts();\r\n      return contacts;\r\n    } catch (error) {\r\n      console.error(error.message);\r\n      return rejectWithValue(error.message);\r\n    }\r\n  }\r\n);\r\n\r\nconst addContacts = createAsyncThunk(\r\n  \"contact/add\",\r\n  async function (newObject, { rejectWithValue }) {\r\n    try {\r\n      const contacts = await addContactRequest(newObject);\r\n      return contacts;\r\n    } catch (error) {\r\n      console.error(error.message);\r\n      return rejectWithValue(error.message);\r\n    }\r\n  }\r\n);\r\n\r\nconst removeContact = createAsyncThunk(\r\n  \"contact/delete\",\r\n  async function (id, { rejectWithValue }) {\r\n    try {\r\n      return await deleteContactRequest(id);\r\n    } catch (error) {\r\n      console.error(error.message);\r\n      // console.log(error.data);\r\n      return rejectWithValue(error.message);\r\n    }\r\n  }\r\n);\r\nexport { fetchContacts, addContacts, removeContact };\r\n","import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset(token) {\n    axios.defaults.headers.common.Authorization = \"\";\n  },\n};\n\nexport async function getContacts() {\n  try {\n    const { data } = await axios.get(\"/contacts\");\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function addContactRequest(newContact) {\n  try {\n    const { data } = await axios.post(\"/contacts\", newContact);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function deleteContactRequest(id) {\n  try {\n    await axios.delete(`/contacts/${id}`);\n    return id;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function registerNewUser(userData) {\n  try {\n    const { data } = await axios.post(\"/users/signup\", userData);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\nexport async function loginUser(userData) {\n  try {\n    const { data } = await axios.post(\"/users/login\", userData);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\nexport async function logOutUser() {\n  try {\n    const { data } = await axios.post(\"/users/logout\");\n    token.unset();\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport const getCurrentUser = async (persistedToken) => {\n  token.set(persistedToken);\n  try {\n    const { data } = await axios.get(\"/users/current\");\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n","const getIsLoggedIn = (state) => state.auth.isLoggedIn;\n\nconst getUserEmail = (state) => state.auth.user.email;\n\nconst getToken = (state) => state.auth.token;\n\nconst getAuthError = (state) => state.auth.error;\n\nconst getCurrentUser = (state) => state.auth.isUser;\n\nexport { getIsLoggedIn, getUserEmail, getToken, getAuthError, getCurrentUser };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__3HYI7\",\"link\":\"Nav_link__1LGxt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userMenu\":\"UserMenu_userMenu__in_tB\",\"text\":\"UserMenu_text__3uchB\",\"mail\":\"UserMenu_mail__zw92E\"};","import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport {\n  registerNewUser,\n  loginUser,\n  logOutUser,\n  getCurrentUser,\n} from \"../../services/api-request\";\n\nconst register = createAsyncThunk(\n  \"auth/register\",\n  async function (newUser, { rejectWithValue }) {\n    try {\n      const user = await registerNewUser(newUser);\n      return user;\n    } catch (error) {\n      console.error(error.message);\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nconst logIn = createAsyncThunk(\n  \"auth/login\",\n  async function (data, { rejectWithValue }) {\n    try {\n      const user = await loginUser(data);\n      return user;\n    } catch (error) {\n      console.error(error.message);\n      return rejectWithValue(error.message);\n    }\n  }\n);\nconst logOut = createAsyncThunk(\n  \"auth/logout\",\n  async function (_, { rejectWithValue }) {\n    try {\n      return await logOutUser();\n    } catch (error) {\n      console.error(error.message);\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nconst getCurrent = createAsyncThunk(\n  \"auth/getCurrentUser\",\n  async (_, thunkAPI) => {\n    try {\n      const state = thunkAPI.getState();\n      const token = state.auth.token;\n\n      if (!token) {\n        return thunkAPI.rejectWithValue();\n      }\n      return await getCurrentUser(token);\n    } catch (error) {\n      return error.message;\n    }\n  }\n);\n\nexport { register, logIn, logOut, getCurrent };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__qMMtQ\"};"],"sourceRoot":""}