{"version":3,"sources":["components/App/App.module.css","components/Section/Section.jsx","redux/phonebook/actions.js","components/AuthNav/AuthNav.jsx","components/Section/Section.module.css","redux/phonebook/reducer.js","redux/auth/authReducer.js","redux/store.js","components/UserMenu/UserMenu.jsx","components/Nav/Nav.jsx","components/App/App.jsx","index.js","redux/phonebook/operations.js","services/api-request.js","redux/auth/authSelector.js","components/Nav/Nav.module.css","components/UserMenu/UserMenu.module.css","redux/auth/authOperations.js","components/AuthNav/AuthNav.module.css"],"names":["module","exports","Section","children","className","styles","mainSection","filterContact","createAction","AuthNav","to","link","getContacts","createReducer","fetchContacts","fulfilled","state","action","payload","addContacts","removeContact","filter","el","id","error","rejected","_","pending","combineReducers","contacts","registerNewUser","register","user","logIn","logOut","getCurrent","token","isLoggedIn","isUser","git","authPersistConfig","key","storage","whitelist","persistedReducer","persistReducer","authReducer","store","configureStore","reducer","auth","contactsReduser","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistor","persistStore","UserMenu","dispatch","useDispatch","email","useSelector","getUserEmail","userMenu","text","mail","Button","variant","type","onClick","Nav","getIsLoggedIn","wrapper","Box","sx","flexGrow","AppBar","position","Toolbar","nav","exact","activeClassName","HomePage","lazy","AuthPage","LoginPage","ContactsPage","App","sectionApp","autoClose","fallback","color","height","width","path","restricted","footer","Copyright","ReactDOM","render","StrictMode","loading","document","getElementById","createAsyncThunk","a","rejectWithValue","console","message","newObject","addContactRequest","deleteContactRequest","axios","defaults","baseURL","headers","common","Authorization","get","data","log","newContact","post","delete","userData","loginUser","logOutUser","getCurrentUser","persistedToken","newUser","thunkAPI","getState"],"mappings":"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","file":"static/js/main.8b26bfc4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2aeWO\",\"footer\":\"App_footer__1VNiO\"};","import styles from \"./Section.module.css\";\r\n\r\nexport default function Section({ children, className }) {\r\n  return <section className={styles.mainSection + ' ' + className} >{children}</section>;\r\n}\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\n// const addNewContact = createAction(\"contact/Add\");\r\n// const removeContact = createAction(\"contact/Delete\");\r\nconst filterContact = createAction(\"contact/Filter\");\r\nexport { filterContact };\r\n","import { NavLink } from \"react-router-dom\";\r\nimport styles from \"./AuthNav.module.css\";\r\n\r\nexport default function AuthNav() {\r\n  return (\r\n    <div>\r\n      <NavLink to=\"/login\" className={styles.link}>\r\n        LogIn\r\n      </NavLink>\r\n      <NavLink to=\"/register\" className={styles.link}>\r\n        SignUp\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainSection\":\"Section_mainSection__2s6RO\"};","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport { combineReducers } from \"redux\";\r\nimport { filterContact } from \"./actions\";\r\nimport { fetchContacts, addContacts, removeContact } from \"./operations\";\r\n\r\nconst getContacts = createReducer([], {\r\n  [fetchContacts.fulfilled]: (state, action) => action.payload,\r\n\r\n  [addContacts.fulfilled]: (state, action) => [...state, action.payload],\r\n  [removeContact.fulfilled]: (state, action) =>\r\n    state.filter((el) => el.id !== action.payload),\r\n});\r\n\r\nconst error = createReducer(null, {\r\n  [fetchContacts.rejected]: (_, action) => action.payload,\r\n  [fetchContacts.pending]: () => null,\r\n  [addContacts.rejected]: (_, action) => action.payload,\r\n  [addContacts.pending]: () => null,\r\n  [removeContact.rejected]: (_, action) => action.payload,\r\n  [removeContact.pending]: () => null,\r\n});\r\n\r\nconst filter = createReducer(\"\", {\r\n  [filterContact]: (state, action) => action.payload,\r\n});\r\n\r\nexport default combineReducers({\r\n  contacts: getContacts,\r\n  filter,\r\n  error,\r\n});\r\n","import { createReducer } from \"@reduxjs/toolkit\";\nimport { combineReducers } from \"redux\";\nimport { register, logIn, logOut, getCurrent } from \"./authOperations\";\n\nconst registerNewUser = createReducer(null, {\n  [register.fulfilled]: (_, { payload }) => payload.user,\n  [logIn.fulfilled]: (_, { payload }) => payload.user,\n  [logOut.fulfilled]: () => null,\n  [getCurrent.fulfilled]: (_, { payload }) => payload.user,\n});\n\nconst token = createReducer(null, {\n  [register.fulfilled]: (_, { payload }) => payload.token,\n  [logIn.fulfilled]: (_, { payload }) => payload.token,\n  [logOut.fulfilled]: () => null,\n});\n\nconst error = createReducer(null, {\n  [register.rejected]: (_, { payload }) => payload,\n  [register.pending]: () => null,\n  [logIn.rejected]: (_, { payload }) => payload,\n  [logIn.pending]: () => null,\n  [logOut.rejected]: (_, action) => action.payload,\n  [logOut.pending]: () => null,\n  [getCurrent.rejected]: (_, action) => action.payload,\n  [getCurrent.pending]: () => null,\n});\n\nconst isLoggedIn = createReducer(false, {\n  [register.fulfilled]: () => true,\n  [logIn.fulfilled]: () => true,\n  [logOut.fulfilled]: () => false,\n  [getCurrent.fulfilled]: () => true,\n});\n\nconst isUser = createReducer(false, {\n  [getCurrent.fulfilled]: () => true,\n  [getCurrent.rejected]: (git) => false,\n  [logOut.fulfilled]: () => false,\n});\nexport default combineReducers({\n  user: registerNewUser,\n  token,\n  error,\n  isLoggedIn,\n  isUser,\n});\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport contactsReduser from \"./phonebook/reducer\";\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\";\nimport authReducer from \"./auth/authReducer\";\n\nconst authPersistConfig = {\n  key: \"auth\",\n  storage,\n  whitelist: [\"token\"],\n};\n\nconst persistedReducer = persistReducer(authPersistConfig, authReducer);\n\nconst store = configureStore({\n  reducer: {\n    auth: persistedReducer,\n    contacts: contactsReduser,\n  },\n\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      serializableCheck: {\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n      },\n    }),\n});\n\nconst persistor = persistStore(store);\n\nexport { store, persistor };\n","import { useSelector, useDispatch } from \"react-redux\";\r\nimport { logOut } from \"../../redux/auth/authOperations\";\r\nimport { getUserEmail } from \"../../redux/auth/authSelector\";\r\nimport styles from \"./UserMenu.module.css\";\r\n\r\nimport { Button } from \"@material-ui/core\";\r\n\r\nconst UserMenu = () => {\r\n  const dispatch = useDispatch();\r\n  const email = useSelector(getUserEmail);\r\n\r\n  return (\r\n    <div className={styles.userMenu}>\r\n      <p className={styles.text}>Welcome,</p>\r\n      <p className={styles.mail}>{email}</p>\r\n      <Button\r\n              variant=\"contained\"\r\n        type=\"button\"\r\n        onClick={() => dispatch(logOut())}\r\n      >\r\n        Exit\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserMenu;\r\n","import { useSelector } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Box from '@material-ui/core/Box';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\n\r\nimport UserMenu from '../UserMenu/UserMenu';\r\nimport AuthNav from '../AuthNav/AuthNav';\r\n\r\nimport { getIsLoggedIn } from '../../redux/auth/authSelector';\r\nimport styles from './Nav.module.css';\r\n\r\nexport default function Nav () {\r\n  const isLoggedIn = useSelector(getIsLoggedIn);\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <Box sx={{ flexGrow: 1 }}>\r\n        <AppBar position=\"fixed\">\r\n          <Toolbar>\r\n            <nav className={styles.nav}>\r\n              <NavLink\r\n                to=\"/\"\r\n                exact\r\n                className={styles.link}\r\n                activeClassName=\"activeLink\"\r\n              >\r\n                Home\r\n              </NavLink>\r\n\r\n              {isLoggedIn && (\r\n                <NavLink\r\n                  to=\"/contacts\"\r\n                  exact\r\n                  className={styles.link}\r\n                  activeClassName=\"activeLink\"\r\n                >\r\n                  Contacts\r\n                </NavLink>\r\n               )} \r\n            </nav>\r\n            {isLoggedIn ? <UserMenu /> : <AuthNav />}\r\n\r\n          </Toolbar>\r\n        </AppBar>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\n","import { Switch, Redirect, Route } from \"react-router-dom\";\r\nimport { useEffect,Suspense, lazy } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Copyright } from '@material-ui/icons';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nimport Nav from '../Nav/Nav'\r\nimport Section from \"../Section/Section\"\r\nimport {getIsLoggedIn} from '../../redux/auth/authSelector'\r\nimport styles from \"./App.module.css\"\r\n\r\n\r\n\r\nconst HomePage = lazy(() =>\r\n  import('../page/HomePage' /* webpackChunkName: \"home\" */),\r\n);\r\nconst AuthPage = lazy(() =>\r\n  import('../page/AuthPage' /* webpackChunkName: \"auth\" */),\r\n);\r\nconst LoginPage = lazy(() =>\r\n  import('../page/LoginPage' /* webpackChunkName: \"login\" */),\r\n);\r\nconst ContactsPage = lazy(() =>\r\n  import('../page/ContactsPage' /* webpackChunkName: \"contacts\" */),\r\n);\r\n\r\n\r\n\r\nexport default function App() {\r\n\r\n  const isLoggedIn = useSelector(getIsLoggedIn);\r\n  // const dispatch = useDispatch();\r\n  // const isError = useSelector(getErrorStatus);\r\n\r\n  // useEffect(() => {\r\n  //   dispatch(currentUser());\r\n  // }, [dispatch]);\r\n\r\n  return (\r\n    <Section className={styles.sectionApp}>\r\n       <ToastContainer autoClose={2000} />\r\n      <Nav />\r\n\r\n       <div className=\"viewContainer\">\r\n          <Suspense\r\n            fallback={\r\n              <Loader type=\"Circles\" color=\"#00BFFF\" height={80} width={80} />\r\n            }\r\n          >\r\n            <Switch>\r\n\r\n              <Route path=\"/\" exact>\r\n                <HomePage />\r\n              </Route>\r\n        \r\n              <Route path=\"/login\" restricted>\r\n                <LoginPage />\r\n              </Route>\r\n\r\n              <Route path=\"/register\" restricted>\r\n                <AuthPage />\r\n              </Route>\r\n\r\n              <Route path=\"/contacts\">\r\n                <ContactsPage />\r\n              </Route>\r\n\r\n            </Switch>\r\n            {isLoggedIn ? <Redirect to=\"/contacts\" /> : <Redirect to=\"/\" />}\r\n          </Suspense>\r\n      </div>\r\n\r\n      <div className={styles.footer}>\r\n        <Copyright  />\r\n        Created by Suslov | 2021\r\n      </div>\r\n    \r\n    </Section>\r\n  );\r\n}","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { PersistGate } from \"reduxjs-toolkit-persist/integration/react\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport { Provider } from \"react-redux\";\nimport { store, persistor } from \"./redux/store\";\n\nimport App from \"./components/App/App\";\nimport \"./index.css\";\nimport \"modern-normalize/modern-normalize.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport {\r\n  getContacts,\r\n  addContactRequest,\r\n  deleteContactRequest,\r\n} from \"../../services/api-request\";\r\n\r\nconst fetchContacts = createAsyncThunk(\r\n  \"contact/fetchContacts\",\r\n  async function (_, { rejectWithValue }) {\r\n    try {\r\n      const contacts = await getContacts();\r\n      return contacts;\r\n    } catch (error) {\r\n      console.error(error.message);\r\n      return rejectWithValue(error.message);\r\n    }\r\n  }\r\n);\r\n\r\nconst addContacts = createAsyncThunk(\r\n  \"contact/add\",\r\n  async function (newObject, { rejectWithValue }) {\r\n    try {\r\n      const contacts = await addContactRequest(newObject);\r\n      return contacts;\r\n    } catch (error) {\r\n      console.error(error.message);\r\n      return rejectWithValue(error.message);\r\n    }\r\n  }\r\n);\r\n\r\nconst removeContact = createAsyncThunk(\r\n  \"contact/delete\",\r\n  async function (id, { rejectWithValue }) {\r\n    try {\r\n      return await deleteContactRequest(id);\r\n    } catch (error) {\r\n      console.error(error.message);\r\n      // console.log(error.data);\r\n      return rejectWithValue(error.message);\r\n    }\r\n  }\r\n);\r\nexport { fetchContacts, addContacts, removeContact };\r\n","import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset(token) {\n    axios.defaults.headers.common.Authorization = \"\";\n  },\n};\n\nexport async function getContacts() {\n  try {\n    const { data } = await axios.get(\"/contacts\");\n    console.log(\"getContacts\", data);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function addContactRequest(newContact) {\n  try {\n    const { data } = await axios.post(\"/contacts\", newContact);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function deleteContactRequest(id) {\n  try {\n    await axios.delete(`/contacts/${id}`);\n    return id;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function registerNewUser(userData) {\n  try {\n    const { data } = await axios.post(\"/users/signup\", userData);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\nexport async function loginUser(userData) {\n  try {\n    const { data } = await axios.post(\"/users/login\", userData);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\nexport async function logOutUser() {\n  try {\n    const { data } = await axios.post(\"/users/logout\");\n    token.unset();\n    // console.log(\"registerNewUser\", userData);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport const getCurrentUser = async (persistedToken) => {\n  token.set(persistedToken);\n  try {\n    const { data } = await axios.get(\"/users/current\");\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n","const getIsLoggedIn = (state) => state.auth.isLoggedIn;\n\nconst getUserEmail = (state) => state.auth.user.email;\n\nconst getToken = (state) => state.auth.token;\n\nconst getAuthError = (state) => state.auth.error;\n\n// const getIsGetCurrentUser = (state) => state.auth.isGetCurrentUser;\n\nexport { getIsLoggedIn, getUserEmail, getToken, getAuthError };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__3HYI7\",\"link\":\"Nav_link__1LGxt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userMenu\":\"UserMenu_userMenu__in_tB\",\"text\":\"UserMenu_text__3uchB\",\"mail\":\"UserMenu_mail__zw92E\"};","import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport {\n  registerNewUser,\n  loginUser,\n  logOutUser,\n  getCurrentUser,\n} from \"../../services/api-request\";\n\nconst register = createAsyncThunk(\n  \"auth/register\",\n  async function (newUser, { rejectWithValue }) {\n    try {\n      const user = await registerNewUser(newUser);\n      return user;\n    } catch (error) {\n      console.error(error.message);\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nconst logIn = createAsyncThunk(\n  \"auth/login\",\n  async function (data, { rejectWithValue }) {\n    try {\n      const user = await loginUser(data);\n      return user;\n    } catch (error) {\n      console.error(error.message);\n      return rejectWithValue(error.message);\n    }\n  }\n);\nconst logOut = createAsyncThunk(\n  \"auth/logout\",\n  async function (_, { rejectWithValue }) {\n    try {\n      return await logOutUser();\n    } catch (error) {\n      console.error(error.message);\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nconst getCurrent = createAsyncThunk(\n  \"auth/getCurrentUser\",\n  async (_, thunkAPI) => {\n    try {\n      const state = thunkAPI.getState();\n      const token = state.auth.token;\n      if (!token) {\n        return thunkAPI.rejectWithValue();\n      }\n      return await getCurrentUser(token);\n    } catch (error) {\n      return error.message;\n    }\n  }\n);\n\nexport { register, logIn, logOut, getCurrent };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__qMMtQ\"};"],"sourceRoot":""}